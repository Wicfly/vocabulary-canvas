# 📸 图像识别功能说明

## 功能概述

现在您的应用支持识别照片中的物品，并自动显示对应的英文单词和定义。

## 工作流程

1. **拍照** - 点击拍照按钮，对准物品拍照
2. **识别** - 系统自动识别照片中的物品
3. **显示** - 鼠标悬浮在照片上，显示：
   - 英文单词（如 "apple", "book", "phone"）
   - 单词定义（完整的英文解释）

## 配置要求

### 推荐方式：OpenAI Vision API

**最简单，只需一步：**

1. 获取 OpenAI API Key
   - 访问：https://platform.openai.com/api-keys
   - 创建新的 API Key

2. 在项目根目录创建或编辑 `.env` 文件：
   ```env
   VITE_OPENAI_API_KEY=sk-your-api-key-here
   ```

3. 重启开发服务器：
   ```bash
   npm run dev
   ```

**完成！** 现在拍照就能自动识别物品了。

### 替代方式：Google Cloud Vision API

如果不想使用 OpenAI，可以使用 Google Vision API：

1. 访问：https://console.cloud.google.com/
2. 启用 Cloud Vision API
3. 获取 API Key
4. 在 `.env` 文件中添加：
   ```env
   VITE_GOOGLE_VISION_API_KEY=your-api-key-here
   ```

## 使用示例

### 示例 1：拍照一个苹果

**结果：**
- 识别单词：`apple`
- 显示定义：`A round fruit with red or green skin and crisp flesh`

### 示例 2：拍照一本书

**结果：**
- 识别单词：`book`
- 显示定义：`A written or printed work consisting of pages glued or sewn together along one side and bound in covers`

### 示例 3：拍照一部手机

**结果：**
- 识别单词：`phone`
- 显示定义：`A device used for communication over a distance`

## 无需配置也能使用

即使没有配置 API，应用仍然可以：
- ✅ 拍照并添加到画布
- ✅ 显示照片
- ⚠️ 显示默认名称 "Photo" 和默认定义

## 故障排除

### 识别失败

**检查清单：**
1. ✅ 是否配置了 API Key？
2. ✅ API Key 是否正确？
3. ✅ 网络连接是否正常？
4. ✅ 照片是否清晰？

**查看错误：**
- 打开浏览器控制台（按 F12）
- 查看红色错误信息
- 根据错误信息调整配置

### 识别不准确

**建议：**
- 确保物品在照片中清晰可见
- 物品占据照片的主要部分
- 避免复杂背景
- 确保光线充足

### API 费用

**OpenAI Vision API：**
- 约 $0.01 每张图片
- 非常便宜，适合个人使用

**Google Vision API：**
- 每月前 1,000 次免费
- 之后按使用量付费

## 技术细节

### 识别流程

1. 照片转换为 base64 格式
2. 发送到图像识别 API
3. API 返回物品名称（英文单词）
4. 使用单词获取定义
5. 显示在悬浮提示中

### 支持的 API

- ✅ OpenAI GPT-4 Vision API
- ✅ Google Cloud Vision API

### 优先级

如果配置了多个 API，按以下顺序尝试：
1. OpenAI Vision API（如果配置）
2. Google Vision API（如果配置）
3. 使用默认名称

## 下一步

1. **配置 API Key** - 按照上面的步骤配置
2. **测试拍照** - 尝试拍摄不同的物品
3. **查看效果** - 鼠标悬浮查看识别结果

## 相关文档

- `IMAGE_RECOGNITION_SETUP.md` - 详细的 API 配置指南
- `SAM3D_SETUP.md` - 3D 模型转换配置
- `故障排除.md` - 常见问题解决



